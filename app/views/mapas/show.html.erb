<br>
<br>
<br>

<!-- ESTO ES EL BOTON DE NAVEGADOR Y LA BURGER -->
  <nav class="navbar navbar-dark bg-dark fixed-top">
    <div class="container-fluid">
      <a class="navbar-brand" href="#"></a>
      <button class="navbar-toggler" type="button" data-bs-toggle="offcanvas" data-bs-target="#offcanvasDarkNavbar" aria-controls="offcanvasDarkNavbar">
        <span class="navbar-toggler-icon"></span>
      </button>
      <div class="offcanvas offcanvas-end text-bg-dark" tabindex="-1" id="offcanvasDarkNavbar" aria-labelledby="offcanvasDarkNavbarLabel">
        <div class="offcanvas-header">
          <svg xmlns="http://www.w3.org/2000/svg" width="30" height="30" fill="currentColor" class="bi bi-car-front-fill" viewBox="0 0 16 16">
            <path fill-rule="evenodd" d="M2.52 3.515A2.5 2.5 0 0 1 4.82 2h6.362c1 0 1.904.596 2.298 1.515l.792 1.848c.075.175.21.319.38.404.5.25.855.715.965 1.262l.335 1.679c.033.161.049.325.049.49v.413c0 .814-.39 1.543-1 1.997V13.5a.5.5 0 0 1-.5.5h-2a.5.5 0 0 1-.5-.5v-1.338c-1.292.048-2.745.088-4 .088s-2.708-.04-4-.088V13.5a.5.5 0 0 1-.5.5h-2a.5.5 0 0 1-.5-.5v-1.892c-.61-.454-1-1.183-1-1.997v-.413a2.5 2.5 0 0 1 .049-.49l.335-1.68c.11-.546.465-1.012.964-1.261a.807.807 0 0 0 .381-.404l.792-1.848ZM3 10a1 1 0 1 0 0-2 1 1 0 0 0 0 2Zm10 0a1 1 0 1 0 0-2 1 1 0 0 0 0 2ZM6 8a1 1 0 0 0 0 2h4a1 1 0 1 0 0-2H6ZM2.906 5.189l.956-1.913A.5.5 0 0 1 4.309 3h7.382a.5.5 0 0 1 .447.276l.956 1.913a.51.51 0 0 1-.497.731c-.91-.073-3.35-.17-4.597-.17-1.247 0-3.688.097-4.597.17a.51.51 0 0 1-.497-.731Z"/>
          </svg>
          <h3 class="offcanvas-title" id="offcanvasDarkNavbarLabel">Alquilapp</h3>
          <button type="button" class="btn-close btn-close-white" data-bs-dismiss="offcanvas" aria-label="Close"></button>
        </div>
        <div class="offcanvas-body">
          <ul class="navbar-nav justify-content-end flex-grow-1 pe-3">
            <li class="nav-item">
              <a class="nav-link active" aria-current="page" href="usuarios/show">Mi Perfil</a>
            </li>
            <li class="nav-item">
              <a class="nav-link" href="#">Link sin link</a>
            </li>
          </ul>

        </div>
      </div>
    </div>
  </nav>
<br>

<!-- MODALES DE LOS AUTOS -->

<!-- MODAL 1 -->

  <button type="button" class="btn btn-danger" data-bs-toggle="modal" data-bs-target="#exampleModal1">
    auto 1
  </button>

  <div class="modal fade" id="exampleModal1" tabindex="-1" aria-labelledby="exampleModalLabel" aria-hidden="true">
    <div class="modal-dialog modal-dialog-centered">
      <div class="modal-content">
        <div class="modal-header">
          <h1 class="modal-title fs-5" id="exampleModalLabel">Modal title</h1>
          <button type="button" class="btn-close" data-bs-dismiss="modal" aria-label="Close"></button>
        </div>
        <div class="modal-body">
          Esto dependeria del auto que toque
          <!-- Esto deberia hacerce por cada uno imagino un for each de autos -->
          <!-- Porque no se sino como mostrar alguno si y otro no -->
          <table class="table table-bordered table-striped">
            <thead>
                <tr class="btn-primary">
                <th>Nro</th>
                <th>Color</th>
                <th>Patente</th>
                <th>Modelo</th>
              </tr>
            </thead>
            <tbody>
                <tr>
                <td> Aca va nro auto? </td>
                <td> Rojo obvio </td>
                <td> AA000AA </td>
                <td>Golcito turbo</td>
                </tr>
              </tbody>
          </table>

        </div>
        <div class="modal-footer">
          <button type="button" class="btn btn-secondary" data-bs-dismiss="modal">Close</button>
          <button type="button" class="btn btn-primary">Save changes</button>
        </div>
      </div>
    </div>
  </div>

<!-- -->

<!-- MODAL 2 -->
  <% @autos.each do |vehiculo| %>
  <div>
    <button type="button" class="btn btn-danger" data-bs-toggle="modal" data-bs-target="#t<%=vehiculo.id.to_s%>">
      Quien soy? MODAL2 <%=  vehiculo.nroA %> ITERA
    </button>

    <div class="modal fade" id="t<%=vehiculo.id.to_s%>" tabindex="-1" aria-labelledby="exampleModalLabel" aria-hidden="true">
      <div class="modal-dialog modal-dialog-centered">
        <div class="modal-content">
          <div class="modal-header">
            <h1 class="modal-title fs-5" id="exampleModalLabel">Auto 2</h1>
            <button type="button" class="btn-close" data-bs-dismiss="modal" aria-label="Close"></button>
          </div>
          <div class="modal-body">
            El auto es <%=  vehiculo.nroA %>
            <div class="container">
              <div class="row">
                <div class="col">Numero:</div>
                <div class="col"><%=  vehiculo.nroA %></div>
                <div class="w-100"></div>
                <div class="col">Color:</div>
                <div class="col"><%=  vehiculo.color  %></div>
                <div class="w-100"></div>
                <div class="col">Patente:</div>
                <div class="col"><%=  vehiculo.patente  %></div>
                <div class="w-100"></div>
                <div class="col">En uso:</div>
                <div class="col"><%= vehiculo.en_uso %></div>
                <img src="https://www.mitsubishi-motors.com.pe/blog/wp-content/uploads/2019/08/mitsubishi-motors-beneficios-tener-auto-propio.jpg" alt="...">
              </div>
            </div>
          </div>
          <div class="modal-footer">
            <button type="button" class="btn btn-secondary" data-bs-dismiss="modal">Close</button>
            <button type="button" class="btn btn-primary" data-bs-toggle="modal" data-bs-target="#escanearQR">Escanear QR</button>
          </div>
        </div>
      </div>
    </div>
  </div>
  <%end%>
<!-- -->

<!-- Modal EscanearQR -->
  <div class="modal fade" id="escanearQR" tabindex="-1" aria-labelledby="exampleModalLabel" aria-hidden="true">
    <div class="modal-dialog modal-dialog-centered">
      <div class="modal-content">
        <div class="modal-header">
          <h1 class="modal-title fs-5" id="exampleModalLabel">Modal title</h1>
          <button type="button" class="btn-close" data-bs-dismiss="modal" aria-label="Close"></button>
        </div>
        <div class="modal-body">
          <video autoplay="true" id="prev" class="p-1 border" style="width:100%;"></video>
          <script>
            let video = document.querySelector("#prev");

            if(navigator.mediaDevices.getUserMedia){
              navigator.mediaDevices.getUserMedia({video: true})
                .then(function(stream){
                video.srcObject = stream;
                }) 
              .catch(function(error){
                console.log("algo salio mal");
              })
            }else{
              console.log("getUserMEdia");
            }
          </script>
        </div>
        <div class="modal-footer">
          <button type="button" class="btn btn-secondary" data-bs-dismiss="modal">Close</button>
          <button type="button" class="btn btn-primary">Save changes</button>
        </div>
      </div>
    </div>
  </div>

<!-- Modal 3  test iterativo 
  <% @autos.each do |vehiculo| %>
    <button type="button" class="btn btn-danger" data-bs-toggle="modal" data-bs-target="#exampleModal2">
      Soy MODAL3 <%=  vehiculo.nroA %> ITERA
    </button>

    <div class="modal fade" id="exampleModal2" tabindex="-1" aria-labelledby="exampleModalLabel" aria-hidden="true">
      <div class="modal-dialog modal-dialog-centered">
        <div class="modal-content">
          <div class="modal-header">
            <h1 class="modal-title fs-5" id="exampleModalLabel">Soy <%=  vehiculo.nroA %></h1>
            <button type="button" class="btn-close" data-bs-dismiss="modal" aria-label="Close"></button>
          </div>
          <div class="modal-body">
            Soy <%=  vehiculo.id %></div>
            <div class="container">
              <div class="row">
                <div class="col">Numero:</div>
                <div class="col"><%=  vehiculo.nroA %></div>
                <div class="w-100"></div>
                <div class="col">Color:</div>
                <div class="col"><%=  vehiculo.color  %></div>
                <div class="w-100"></div>
                <div class="col">Patente:</div>
                <div class="col"><%=  vehiculo.patente  %></div>
                <div class="w-100"></div>
                <div class="col">En uso:</div>
                <div class="col"><%=  vehiculo.en_uso %></div>
              </div>
            </div>
          </div>
          <div class="modal-footer">
            <button type="button" class="btn btn-secondary" data-bs-dismiss="modal">Close</button>
            <button type="button" class="btn btn-primary">Save changes</button>
          </div>
        </div>
      </div>
    </div>
  <%end%>
  -->